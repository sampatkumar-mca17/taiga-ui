<form
    class="b-form"
    [formGroup]="testForm"
>
    <label
        tuiLabel="Type the ultimate answer"
        class="tui-space_bottom-4"
    >
        <tui-input
            formControlName="testValue2"
            tuiTextfieldSize="m"
            [tuiTextfieldLabelOutside]="true"
        >
            to the Question of Life, the Universe, and Everything
        </tui-input>

        <tui-error
            formControlName="testValue2"
            [error]="[] | tuiFieldError | async"
        ></tui-error>
    </label>

    <label tuiLabel="Set a password">
        <tui-input
            formControlName="testValue1"
            tuiTextfieldSize="m"
            [tuiTextfieldLabelOutside]="true"
        >
            Latin letters only
        </tui-input>

        <tui-error
            formControlName="testValue1"
            [error]="[] | tuiFieldError | async"
        ></tui-error>
    </label>

    <p>
        If you want to show a validation message as soon as a user starts typing, subscribe on form value changes and
        call markAsTouched on control on first value change. You can also use
        <a
            fragment="mark-control-as-touched-and-validate"
            href="/utils/miscellaneous#mark-control-as-touched-and-validate"
            routerLink="/utils/miscellaneous"
            tuiLink
        >
            <code>tuiMarkControlAsTouchedAndValidate</code>
        </a>
    </p>

    <p>
        <code>tuiFieldError</code>
        pipe can be used inside your controls to show error messages for parent
        <a
            href="https://angular.io/api/forms/NgControl"
            rel="noreferrer"
            target="_blank"
            tuiLink
        >
            NgControl
        </a>
        or
        <a
            href="https://angular.io/api/forms/ControlContainer"
            rel="noreferrer"
            target="_blank"
            tuiLink
        >
            ControlContainer
        </a>
        through DI without explicit directive on
        <code>tui-error</code>
        .
    </p>

    <p>Below is an error for the entire form:</p>

    <tui-error [error]="[] | tuiFieldError | async"></tui-error>
</form>
