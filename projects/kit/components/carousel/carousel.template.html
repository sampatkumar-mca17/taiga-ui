<ng-container *ngIf="items.changes | async"></ng-container>
<div
    class="t-scroller"
    (tuiCarouselScroll)="onScroll($event)"
>
    <div
        waIntersectionObserver
        waIntersectionRoot
        waIntersectionRootMargin="100px 1000000px 100px -51%"
        waIntersectionThreshold="0,1"
        class="t-wrapper"
    >
        <div
            class="t-items"
            [style.transform]="transform"
            (tuiCarouselAutoscroll)="onAutoscroll()"
            (tuiPan)="onPan($event[0])"
            (tuiSwipe)="onSwipe($event.direction)"
        >
            <fieldset
                *ngFor="let item of items; let i = index"
                class="t-item"
                [disabled]="isDisabled(i)"
                [ngStyle]="getStyle(itemsCount)"
                (waIntersectionObservee)="onIntersection($event[0], i)"
            >
                <ng-container [ngTemplateOutlet]="item"></ng-container>
            </fieldset>
        </div>
    </div>
</div>
